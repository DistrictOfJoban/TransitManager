# TransitManager
This is a server-side addon for Minecraft Transit Railway mod, adding commands that allows you to have better control of trains in the Minecraft Transit Railway Mod.
Currently supports Minecraft 1.19.2 - 1.19.4

## Commands
| Command                                                                         | Description                                                                                                                                                                                                                                                | Permission Level |
|---------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------|
| /mtrpath status<br>/mtrpath refresh <Depot Name><br>/mtrpath abort <Depot Name> | Check, refresh and abort MTR Path generations.<br><br>- status: Show how many depots are currently regenerating path<br>- refresh: Regenerate the depot's path with command<br>- abort: Terminate the depot's path generation. (If it is still generating) | OP Level 2       |
| /mtrtm reload                                                                   | Reload TransitManager Config                                                                                                                                                                                                                               | OP Level 2       |
| /platform                                                                       | Give you the information of the nearest platform, including dwell,<br>transport type and route that goes via that platform.                                                                                                                                | OP Level 2       |
| /train                                                                          | Provide the information of the nearest train, such as the train type, it's depot and siding, destination, dwell and more.                                                                                                                                  | OP Level 2       |
| /train deploy                                                                   | This will find the nearest train to you, and manually deploy the train<br>if it is parked inside a depot, regardless of timetable and deploy order.                                                                                                        | OP Level 2       |
| /train toggleCollision                                                          | Enable or disable train collision to the nearest train.<br>If disabled, the corresponding train will not stop when even<br>when there's a train in-front, nor will it obey signalling.                                                                     | OP Level 2       |
| /train clear                                                                    | This clears all trains from the siding of the nearest train. If that siding has multiple trains, all of them will be cleared.                                                                                                                              | OP Level 2       |
| /train board                                                                    | Get you onboard to the nearest train.                                                                                                                                                                                                                      | OP Level 2       |
| /train ejectAllPassengers                                                       | This ejects all passengers in the nearest train.                                                                                                                                                                                                           | OP Level 2       |
| /train jump siding                                                              | This teleports the nearest train back to the siding. (This does not make the train shutdown, use /train clear)                                                                                                                                             | OP Level 2       |
| /train jump next <path/platform/stopPosition>                                   | This teleports the nearest train to the next path/platform/stopping position.                                                                                                                                                                              | OP Level 2       |
| /train jump previous <path/platform>                                            | This teleports the nearest train to the last path/platform/stopping position.                                                                                                                                                                              | OP Level 2       |
| /train halt dwell                                                               | This is a toggle that halts the dwell timer from ticking down, effectively preventing a train from departing if it's in boarding stage.                                                                                                                    | OP Level 2       |
| /train halt speed                                                               | This is a toggle that halts the train's speed, stopping the train immediately.                                                                                                                                                                             | OP Level 2       |
| /train skipDwell                                                                | This skips the dwell time for the nearest train.<br>If the train is boarding, it will immediately depart and the door will close.<br>Otherwise, it will skip the dwell time in the next stop like a Turn Back Rail.                                        | OP Level 2       |
| /warpstn <Station Name>                                                         | Warp to the specified station's midpoint. You'll be teleported to the nearest non-suffocatable Y level of the midpoint of the station area.                                                                                                                | OP Level 2       |
| /warpdepot <Depot Name>                                                         | Warp to the specified depot's midpoint. You'll be teleported to the nearest non-suffocatable Y level of the midpoint of the station area.                                                                                                                  | OP Level 2       |

## Config
The config file are automatically generated in `config/transitmanager/config.json` once the server starts up.

| Config Key                | Default Value | Description                                                                                                                                                                                                                                                                                                                                                                                                         |
|---------------------------|---------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| shearPSDOpLevel           | 0             | This defines the OP Level required to shear the top part of the Platform Screen Doors in the MTR Mod. Server owners may want to bump this up to OP Level 1/2 to prevent non-builders from modifying the PSD.                                                                                                                                                                                                        |
| mtrJourneyPlannerTickTime | 0             | -1: The MTR Online Journey Planner will be completely disabled<br>0: The MTR Online Journey Planner will work as normal<br>>0: The MTR Online Journey Planner will only tick on the specified tick.<br><br>For example, if the value is 20, it will only update every 20 ticks or 1 second.<br>The higher the value, the less it updates and the lower the MSPT is, this will however slow down<br>journey planner. |

## Bugs/Suggestion
If you have any questions or suggestions, feel free to open an GitHub issue [here](https://github.com/DistrictOfJoban/TransitManager/issues) :)

## License
This project is licensed under the MIT License.