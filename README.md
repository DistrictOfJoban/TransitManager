# TransitManager
This is a server-side addon for Minecraft Transit Railway mod, adding commands that allows you to have better control of trains in the Minecraft Transit Railway Mod.
Currently supports Minecraft 1.19.2 - 1.19.3

## Commands
| Command                                                                         | Description                                                                                                                                                                                                                                                                                                                                                                                               | Permission Level |
|---------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------|
| /mtrpath status<br>/mtrpath refresh <Depot Name><br>/mtrpath abort <Depot Name> | Check, refresh and abort MTR Path generations.<br><br>- status: Show how many depots are currently regenerating path<br>- refresh: Regenerate the depot's path with command<br>- abort: Terminate the depot's path generation. (If it is still generating)                                                                                                                                                | OP Level 2       |
| /mtrtm reload                                                                   | Reload TransitManager Config                                                                                                                                                                                                                                                                                                                                                                              | OP Level 2       |
| /train deploy                                                                   | This will find the nearest train to you, and manually deploy the train<br>if it is parked inside a depot, regardless of timetable and deploy order.                                                                                                                                                                                                                                                       | OP Level 2       |
| /train collision <disable/enable>                                               | Enable or disable train collision to the nearest train.<br>If disabled, the corresponding train will not stop when even<br>when there's a train in-front, nor will it obey signalling.                                                                                                                                                                                                                    | OP Level 2       |
| /train clear                                                                    | This clears all trains from the siding of the nearest train. If that siding has multiple trains, all of them will be cleared.                                                                                                                                                                                                                                                                             | OP Level 2       |
| /train ejectAllPassengers                                                       | This ejects all passengers in the nearest train.                                                                                                                                                                                                                                                                                                                                                          | OP Level 2       |
| /train jump siding                                                              | This teleports the nearest train back to the siding. (This does not make the train shutdown, use /train clear)                                                                                                                                                                                                                                                                                            | OP Level 2       |
| /train jump next <path/platform/stopPosition>                                   | This teleports the nearest train to the next path/platform/stopping position.                                                                                                                                                                                                                                                                                                                             | OP Level 2       |
| /train jump previous <path/platform>                                            | This teleports the nearest train to the last path/platform/stopping position.                                                                                                                                                                                                                                                                                                                             | OP Level 2       |
| /warpstn <Station Name>                                                         | Warp to a specified station's midpoint. It is very likely you will be stuck<br>inside a terrain, use spectator mode to escape.                                                                                                                                                                                                                                                                            | OP Level 2       |
| /whatplatform                                                                   | Give you the information of the nearest platform, including dwell,<br>transport type and route that goes via that platform.                                                                                                                                                                                                                                                                               | OP Level 2       |
| /whattrain                                                                      | Give you the information of the nearest train, including:<br>- Is the train in manual mode<br>- The depot name of this train<br>- The siding number of this train<br>- The currently running route of this train<br>- Train Type<br>- Position<br>- Riding Players (If any)<br>- Train Inventory (If any)<br>- Train Notch (If currently manual)<br>- Time before switching to Auto (If currently manual) | OP Level 2       |

## Config
The config file are automatically generated in `config/transitmanager/config.json` once the server starts up.

| Config Key                | Default Value | Description                                                                                                                                                                                                                                                                                                                                                                                                         |
|---------------------------|---------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| forceKillMTRPathThread    | false         | If true, this will use the Thread.stop() method to immediately abort MTR Path Generation Thread.<br>Unless your path generation is often stuck, this should be stayed as `false`.                                                                                                                                                                                                                                   |
| mtrJourneyPlannerTickTime | 0             | -1: The MTR Online Journey Planner will be completely disabled<br>0: The MTR Online Journey Planner will work as normal<br>>0: The MTR Online Journey Planner will only tick on the specified tick.<br><br>For example, if the value is 20, it will only update every 20 ticks or 1 second.<br>The higher the value, the less it updates and the lower the MSPT is, this will however slow down<br>journey planner. |

## Bugs/Suggestion
You may open an GitHub issue [here](https://github.com/DistrictOfJoban/TransitManager/issues), however please keep things civil :)

## License
This project is licensed under the MIT License.